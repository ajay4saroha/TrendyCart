<link rel="stylesheet" href="css/main.css">
<div class="container">
    <h1 class="text-center text-decoration-underline text-primary">YOUR ORDER</h1>
    <% order = data.order,bill=data.totalBill,name=data.name,emailId=data.emailId %>
    <ul class="list-group ms-lg-5 me-lg-5">
        <% let totalItems = 0, availableItems = 0%>
        <% for(let i=0;i<order.length;i++){ %>
            <% if((order[i]).available) { %>
                <li class="list-group-item justify-content-lg-center">
                    <div class="row">
                        <div class="col-lg-4">
                            <img src="uploads/productsImages/<%=(order[i]).product.img %>" width="200px" height="200px">
                        </div>
                        <div class="col-lg-6">
                            <ul class="w-50">
                                <li class="justify-content-lg-center"><p><strong>Name :</strong> <%= (order[i]).product.name %></p></li>
                                <li class="justify-content-lg-center"><p><strong>Category : </strong><%= (order[i]).product.category %></p></li>
                                <li class="justify-content-lg-center"><p><strong>Brand : </strong><%= (order[i]).product.brand %></p></li>
                                <li class="justify-content-lg-center"><p><strong>Quantity : </strong><%= (order[i]).product.quantity %></p></li>
                                <li class="justify-content-lg-center"><strong><p>Price : </strong><%= (order[i]).product.price %></p></li>
                            </ul>
                        </div>
                    </div>
                </li>
                <% availableItems++ %>
            <%}%>
            <% totalItems++ %>
        <%}%>
    </ul>
    
    
    <div class="row mt-3 mb-3">
        <h1 class="text-center ">ORDER SUMMARY</h1>
        <div class="col-lg-12 d-flex justify-content-lg-center">
    <table class="border border-collapse border-danger ms-lg-5 mt-lg-2 mb-lg-2">
        <thead>
            <th class="border border-danger p-2 justify-content-lg-center">TOTAL NO. OF ITEMS</th>
            <th class="border border-danger p-2 justify-content-lg-center">NO. OF AVAILABLE ITEMS</th>
            <th class="border border-danger p-2 justify-content-lg-center">NO. OF UNAVAILABLE ITEMS</th>
            <th class="border border-danger p-2 justify-content-lg-center">TOTAL BILL</th>
        </thead>
        <tbody>
            <td class="border border-danger justify-content-lg-center p-2">
                <%=totalItems%>
            </td>
            <td class="border border-danger justify-content-lg-center p-2">
                <%=availableItems%>
            </td>
            <td class="border border-danger justify-content-lg-center p-2">
                <%=totalItems-availableItems%>
            </td>
            <td class="border border-danger justify-content-lg-center p-2">
                $<%=data.totalBill%>
            </td>
        </tbody>
    </table>
        </div>
        <div class="col-lg-12 d-flex justify-content-lg-center">
            <a class="m-lg-2" id="placeOrderBtn">
                <button class="btn btn-success">
                    PLACE ORDER
                </button>
            </a>
            <a class="m-lg-2" id="cancelOrderBtn">
                <button class="btn btn-outline-warning" >
                    CANCEL ORDER
                </button>
            </a>
        </div>
    </div>
    </div>
</div>
<script src="js/preparedOrder.js"></script>